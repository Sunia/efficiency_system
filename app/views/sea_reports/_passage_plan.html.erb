
<% if @passage_plan_count == 0 %>
  <br>
  <b>Add new waypoint </b>
  <%= render 'passage_plans/new_passage_plan' %>

<% else %>

  <% updated_time = @sea_report.update_passage_plan_date %>
  Last Updated at - <%= updated_time.strftime("%B #{updated_time.day.ordinalize}, %Y") %>

  <br><br>
  <b> List all waypoints </b>
  <%= render 'passage_plans/passage_plans_of_report' %>
<% end %>


<!-- Script  -->
<script>

  function deleteRow(btn) {
    var row = btn.parentNode.parentNode;
    row.parentNode.removeChild(row);
  }

  function match_endpoints(start_point) {
    parent_element  = start_point.parentElement.parentElement;
    end_point_checked = parent_element.getElementsByClassName('end_point')[0].checked;

    if (end_point_checked == true){
      alert("Start point and end point cannot be same") ;
      start_point.checked = false;
      return;
    }
  }

  function match_startpoints(end_point) {
    parent_element  = end_point.parentElement.parentElement;
    start_point_checked = parent_element.getElementsByClassName('start_point')[0].checked;

    if (start_point_checked == true){
      alert("Start point and end point cannot be same") ;
      end_point.checked = false;
      return;
    }

  }

</script>