<%= form_for(@passage_plan) do |f| %>

  <td class="font_size-10"><%= f.number_field :lat_degree, :required => true, :min => 0, :max => 90, :style => 'width: 60px;' %></td>

  <td class="font_size-10"><%= f.number_field :lat_min, :required => true, :step =>'0.01', :min=> '0.00', :max => '59.99', :style => 'width: 60px;' %></td>


  <td class="font_size-10">
    <%= f.select(:lat_dir, [['North', 'N'], ['South', "S"]]) %>
  </td>

  <td class="font_size-10"><%= f.number_field :long_degree, :required => true, :min => 0, :max => 90, :style => 'width: 60px;' %></td>

  <td class="font_size-10">
    <%= f.number_field :long_min, :required => true, :step =>'0.01', :min=> '0.00', :max => '59.99', :style => 'width: 60px;' %>
  </td>

  <td class="font_size-10">
    <%= f.select(:long_dir, [['East', 'E'], ['West', "W"]]) %>
  </td>


  <td class="font_size-10">
    <%= f.select(:rl_gc, [['RL', 'RL'], ['GC', "GC"]]) %>
  </td>

  <td class="font_size-10"> 
    <%= f.text_field :waypoint_no, :class => "way_point_no",:style=>'width: 70px;'%>
  </td>

  <td class="font_size-10"> 
    <%= f.check_box :start_point, {:class => "start_point" , :onclick=>"match_endpoints(this)" }, "true", "false" %>
  </td>

  <td class="font_size-10"> 
    <%= f.check_box :end_point, {:class => "end_point", :onclick=>"match_startpoints(this)"}, "true", "false" %>
  </td>
  <td class="font_size-10"> 
    <%= f.submit%>
  </td>

<% end %>


<script>
  function deleteRow(btn) {
    var row = btn.parentNode.parentNode;
    row.parentNode.removeChild(row);
  }


  function match_endpoints(start_point) {

    parent_element  = start_point.parentElement.parentElement;
    end_point_checked = parent_element.getElementsByClassName('end_point')[0].checked;

    if (end_point_checked == true){
      alert("Start point and end point cannot be same") ;
      start_point.checked = false;
      return;
    }

  }

  function match_startpoints(end_point) {

    parent_element  = end_point.parentElement.parentElement;
    start_point_checked = parent_element.getElementsByClassName('start_point')[0].checked;

    if (start_point_checked == true){
      alert("Start point and end point cannot be same") ;
      end_point.checked = false;
      return false;
    }

  }

</script>
